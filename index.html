<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Undangan Pernikahan â€“ Suardika & Murjani</title>
    <meta
      name="description"
      content="Undangan pernikahan Suardika & Murjani pada 17 September 2031. Kehadiran Anda sangat berarti."
    />
    <meta
      property="og:title"
      content="Undangan Pernikahan â€“ Suardika & Murjani"
    />
    <meta property="og:description" content="Kehadiran Anda sangat berarti." />
    <meta property="og:type" content="website" />
    <!-- Open Graph / preview image (thumbnail) -->
    <meta property="og:image" content="https://Budboyy.github.io/SuardikaMurjani/Images/Cover.png" />
    <meta property="og:image:secure_url" content="https://Budboyy.github.io/SuardikaMurjani/Images/Cover.png" />
    <meta property="og:image:type" content="image/png" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <meta property="og:image:alt" content="Suardika & Murjani - Undangan Pernikahan" />
    <!-- Twitter card -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Undangan Pernikahan â€“ Suardika & Murjani" />
    <meta name="twitter:description" content="Kehadiran Anda sangat berarti." />
    <meta name="twitter:image" content="https://Budboyy.github.io/SuardikaMurjani/Images/Cover.png" />
    <!-- legacy image link -->
    <link rel="image_src" href="https://Budboyy.github.io/SuardikaMurjani/Images/Cover.png" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&family=Playfair+Display:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;600&display=swap"
      rel="stylesheet"
    />
    <style>
      :root {
        --bg: #faf7f2; /* ganti tema di sini */
        --card: #ffffff;
        --ink: #2b2b2b;
        --muted: #6b6b6b;
        --brand: #9c6b4e; /* aksen warna */
        --brand-2: #c7a17a;
        --radius: 18px;
        --shadow: 0 10px 30px rgba(0, 0, 0, 0.06);
      }
      * {
        box-sizing: border-box;
      }
      html {
        scroll-behavior: smooth;
      }
      body {
        margin: 0;
        /* utama: gunakan Images/background.jpg sebagai background halaman */
        background: url("https://Budboyy.github.io/SuardikaMurjani/Images/Background.jpg")
            center/cover fixed,
          var(--bg);
        background-size: cover;
        background-repeat: no-repeat;
        background-attachment: fixed;
        color: var(--ink);
        font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto,
          Helvetica, Arial, sans-serif;
      }
      img {
        max-width: 100%;
        display: block;
      }
      a {
        color: var(--brand);
        text-decoration: none;
      }
      header.hero {
        position: relative;
        /* gunakan penuh lebar viewport */
        width: 100vw;
        left: 0;
        min-height: 90dvh;
        display: grid;
        place-items: center;
        background: linear-gradient(
            to bottom,
            rgba(0, 0, 0, 0.35),
            rgba(0, 0, 0, 0.45)
          ),
          url("https://Budboyy.github.io/SuardikaMurjani/Images/Cover.png")
            center/cover no-repeat;
        color: #fff;
        text-align: center;
        overflow: hidden;
        margin: 0;
        transform: translateZ(0);
      }
      .hero .title {
        font-family: "Playfair Display", serif;
        font-size: clamp(2rem, 6vw, 4rem);
        letter-spacing: 0.02em;
        margin: 0;
      }
      .hero .names {
        font-size: clamp(1.1rem, 2.2vw, 1.25rem);
        opacity: 0.95;
        margin-top: 0.75rem;
      }
      .hero .date {
        font-weight: 600;
        margin-top: 1rem;
      }
      .card {
        /* card visuals removed: behave like regular container */
        background: transparent;
        border: 0;
        border-radius: 0;
        box-shadow: none;
        padding: 0;
      }
      .wrap {
        max-width: 1100px;
        margin-inline: auto;
        padding: 18px; /* sebelumnya 24px */
      }
      nav.sticky {
        position: sticky;
        top: 0;
        z-index: 50;
        background: rgba(255, 255, 255, 0.85);
        backdrop-filter: blur(6px);
        box-shadow: 0 1px 8px rgba(0, 0, 0, 0.04);
      }
      .inner {
        display: flex;
        gap: 6px;                /* jarak antar item lebih kecil */
        flex-wrap: nowrap;
        align-items: center;
        justify-content: center;
        padding: 6px 8px;        /* lebih sempit vertikal & horizontal */
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
      }
      nav.sticky a {
        padding: 6px 10px;       /* padding lebih kecil */
        border-radius: 999px;
        background: #fff;
        border: 1px solid #eee;
        color: #333;
        font-size: 0.9rem;       /* sedikit lebih kecil */
        white-space: nowrap;     /* jangan bungkus */
        line-height: 1;
      }
      section {
        padding: 36px 0; /* sebelumnya 56px */
      }
      h2.section-title {
        font-family: "Playfair Display", serif;
        font-size: clamp(1.4rem, 3.4vw, 2rem);
        margin: 0 0 12px; /* sebelumnya 18px */
      }
      p.lead {
        color: var(--muted);
        margin: 0 0 14px;
      }

      .couple {
        display: grid;
        grid-template-columns: repeat(2, minmax(0, 1fr));
        gap: 18px;
      }
      .person {
        padding: 18px;
        text-align: center;
      }
      .avatar {
        width: 140px;
        height: 140px;
        border-radius: 50%;
        object-fit: cover;
        margin: 0 auto 12px;
        border: 4px solid #fff;
        box-shadow: var(--shadow);
      }
      .person h3 {
        margin: 0.25rem 0;
        font-family: "Playfair Display", serif;
      }
      .person .meta {
        font-size: 0.95rem;
        color: var(--muted);
      }

      .countdown {
        display: flex;
        justify-content: center;
        gap: 10px;
        margin-top: 18px;
      }
      .dd {
        background: #a45f5f;
        border: 1px solid #af7e7e;
        border-radius: 12px;
        padding: 12px 16px;
        min-width: 72px;
      }
      .dd b {
        display: block;
        font-size: 1.25rem;
      }
      .dd span {
        font-size: 0.8rem;
        color: var(--muted);
      }

      .events {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
        gap: 16px;
      }
      .events .event {
        padding: 18px;
        border: 1px solid #eee;
      }
      .event h3 {
        margin: 0.35rem 0;
        font-family: "Playfair Display", serif;
      }
      .event .info {
        color: var(--muted);
        font-size: 0.95rem;
      }

      .map {
        aspect-ratio: 16/9;
        border: 0;
        width: 100%;
        border-radius: 12px;
      }

      .gift {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
        gap: 16px;
      }
      .gift .item {
        padding: 16px;
        border: 1px dashed #e2e2e2;
        border-radius: 12px;
      }
      .gift .acc {
        font-family: monospace;
        background: #fff;
        border: 1px solid #eee;
        border-radius: 10px;
        padding: 10px;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }
      /* base "Kirim" style applied to .btn, .copy-btn and .show-rek */
      .btn,
      .copy-btn,
      .show-rek {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        padding: 10px 18px;
        border-radius: 999px;
        background: linear-gradient(
          180deg,
          var(--brand-2, #c7a17a),
          var(--brand, #9c6b4e)
        );
        color: #000000;
        border: 1px solid rgba(0, 0, 0, 0.06);
        box-shadow: 0 6px 18px rgba(34, 60, 80, 0.12);
        cursor: pointer;
        font-weight: 600;
        text-decoration: none;
        line-height: 1;
        transition: transform 0.14s ease, box-shadow 0.14s ease, opacity 0.14s;
        font-family: inherit;
      }

      /* small variant for copy buttons */
      .copy-btn {
        padding: 8px 12px;
        font-size: 0.95rem;
        border-radius: 999px;
      }

      /* primary modifier kept for explicit usage (if needed) */
      .btn.primary {
        background: linear-gradient(
          180deg,
          var(--brand-2, #c7a17a),
          var(--brand, #9c6b4e)
        );
      }

      /* hover / active micro-interactions */
      .btn:hover,
      .copy-btn:hover,
      .show-rek:hover {
        transform: translateY(-2px);
        box-shadow: 0 10px 28px rgba(34, 60, 80, 0.18);
        opacity: 0.98;
      }
      .btn:active,
      .copy-btn:active,
      .show-rek:active {
        transform: translateY(0);
        box-shadow: 0 4px 12px rgba(34, 60, 80, 0.1);
      }

      /* Jangan sentuh .open-invite dan .floating .fab â€” mereka tetap seperti semula */

      .gallery {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
        gap: 10px;
      }
      .gallery img {
        border-radius: 12px;
      }

      .guestbook {
        display: grid;
        grid-template-columns: 1fr;
        gap: 12px;
      }
      .guestbook input,
      .guestbook textarea {
        width: 100%;
        padding: 12px;
        border-radius: 10px;
        border: 1px solid #ddd;
        font: inherit;
      }
      .guestbook-list {
        margin-top: 16px;
        display: grid;
        gap: 10px;
      }
      .ucapan {
        background: #fff;
        border: 1px solid #eee;
        border-radius: 12px;
        padding: 12px;
      }
      .ucapan b {
        display: block;
      }

      footer {
        padding: 32px 0;
        color: #ffffff;
        text-align: center;
      }

      .floating {
        position: fixed;
        right: 16px;
        bottom: 16px;
        display: grid;
        gap: 10px;
        z-index: 60;
      }
      .floating .fab {
        width: 54px;
        height: 54px;
        border-radius: 50%;
        display: grid;
        place-items: center;
        box-shadow: var(--shadow);
        background: var(--brand);
        color: #fff;
        border: none;
        cursor: pointer;
      }
      /* smaller play button variant */
      .floating .fab.play-btn {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        display: grid;
        place-items: center;
        box-shadow: 0 6px 18px rgba(34, 60, 80, 0.18);
        background: linear-gradient(180deg, #6e94ac 0%, #4f768f 100%);
        color: #fff;
        border: 1px solid rgba(255, 255, 255, 0.16);
        padding: 0;
        font-size: 14px;
      }
      .floating .fab.play-btn svg {
        display: block;
      }
      .floating .fab.play-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 10px 28px rgba(34, 60, 80, 0.22);
      }
      .floating .fab.play-btn:active {
        transform: translateY(0);
        box-shadow: 0 4px 12px rgba(34, 60, 80, 0.12);
      }

      /* simple fade */
      .fade-up {
        opacity: 0;
        transform: translateY(12px);
        animation: fadeUp 0.8s ease forwards;
      }
      @keyframes fadeUp {
        to {
          opacity: 1;
          transform: none;
        }
      }
      .delay-1 {
        animation-delay: 0.15s;
      }
      .delay-2 {
        animation-delay: 0.3s;
      }
      .delay-3 {
        animation-delay: 0.45s;
      }

      @media (max-width: 720px) {
        header.hero {
          min-height: 100dvh; /* gunakan tinggi viewport di mobile */
          background-position: center top;
          border-radius: 0;
          padding: 0;
        }
        .couple {
          grid-template-columns: 1fr;
        }
        nav.sticky a {
          font-size: 0.9rem;
        }

        /* Tambahan: beri jarak atas lebih besar pada .wrap di mobile
           agar konten terlihat lebih turun (lebih "di bawah") */
        .wrap {
          padding-top: 8px; /* jarak dalam atas */
          margin-top: 8px; /* jarak luar atas jika diperlukan */
        }

        /* Jika ingin khusus menambah jarak di area hero saja, gunakan ini */
        header.hero > .wrap {
          padding-top: 280px; /* konten hero lebih turun pada layar kecil */
        }
      }

      /* Tambahkan di <style> */
      body.cover-open {
        overflow: hidden;
        touch-action: none;
        height: 100vh;
      }

      /* Pastikan nama mempelai selalu pakai Great Vibes */
      #coverUndangan h1,
      #coverUndangan .names,
      .hero .title,
      .title,
      .person h3,
      .mempelai-name,
      .cover-name {
        font-family: "Great Vibes", "Dancing Script", cursive !important;
        font-weight: 400;
        letter-spacing: 0.02em;
        line-height: 1;
      }

      /* Opsional: sesuaikan ukuran agar proporsional */
      #coverUndangan h1,
      .hero .title {
        font-size: clamp(2rem, 6vw, 4rem);
      }
      .person h3 {
        font-size: clamp(1.4rem, 3vw, 2.2rem);
      }

      /* Button "Buka Undangan" - desain baru sesuai gambar */
      .open-invite {
        display: inline-flex;
        align-items: center;
        gap: 10px;
        padding: 10px 20px;
        border-radius: 999px;
        background: linear-gradient(180deg, #6e94ac 0%, #4f768f 100%);
        color: #fff;
        border: 1px solid rgba(255, 255, 255, 0.16);
        box-shadow: 0 6px 18px rgba(34, 60, 80, 0.18);
        font-family: Inter, "Montserrat", system-ui, -apple-system, "Segoe UI",
          Roboto, sans-serif;
        font-weight: 600;
        font-size: 1rem;
        cursor: pointer;
        transition: transform 0.14s ease, box-shadow 0.14s ease, opacity 0.14s;
        line-height: 1;
      }
      .open-invite svg {
        width: 18px;
        height: 18px;
        flex: 0 0 18px;
        display: block;
      }
      .open-invite:hover {
        transform: translateY(-2px);
        box-shadow: 0 10px 28px rgba(34, 60, 80, 0.22);
        opacity: 0.98;
      }
      .open-invite:active {
        transform: translateY(0);
        box-shadow: 0 4px 12px rgba(34, 60, 80, 0.12);
      }
      @media (max-width: 420px) {
        .open-invite {
          padding: 10px 14px;
          font-size: 0.95rem;
          gap: 8px;
        }
      }

      /* Cover: gunakan Montserrat untuk semua teks di cover kecuali nama mempelai */
      #coverUndangan h2,
      #coverUndangan p:not(.cover-name),
      #coverUndangan .open-invite {
        font-family: "Montserrat", Inter, system-ui, -apple-system, "Segoe UI",
          Roboto, sans-serif;
        font-weight: 600;
      }

      /* Nama mempelai tetap Great Vibes */
      #coverUndangan .cover-name {
        font-family: "Great Vibes", cursive;
        font-weight: 400;
        letter-spacing: 0.02em;
        line-height: 1;
        font-size: clamp(2rem, 6vw, 2.8rem);
        color: #fff; /* pastikan tetap putih di atas gambar */
        text-shadow: 0 2px 12px rgba(0, 0, 0, 0.25);
        margin: 0 0 0.75rem 0;
      }

      /* tambahan kecil agar guestName mengikuti Montserrat */
      #coverUndangan #guestName {
        font-family: "Montserrat", sans-serif;
        font-weight: 600;
      }

      /* Cover content spacing */
      #coverUndangan .cover-content {
        display: flex;
        flex-direction: column;
        align-items: center;
        max-width: 90vw;
        text-align: center;
        margin-top: 140px; /* buat konten turun */
        padding: 0 12px;
        transition: margin-top 0.28s ease;
      }

      @media (max-width: 720px) {
        #coverUndangan .cover-content {
          margin-top: 220px; /* lebih turun di mobile */
        }
      }

      /* RSVP: simple inline radio choices (Hadir / Tidak Hadir) */
      .rsvp-inline {
        display: flex;
        gap: 16px;
        align-items: center;
        margin: 10px 0 14px;
        flex-wrap: wrap;
      }
      .rsvp-inline label {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        cursor: pointer;
        font-weight: 600;
        color: var(--ink);
      }
      .rsvp-inline input[type="radio"] {
        margin: 0;
        width: 18px;
        height: 18px;
        accent-color: var(--brand);
      }
      @media (max-width: 420px) {
        .rsvp-inline {
          gap: 10px;
        }
      }

      /* Kutipan Rg Veda styling */
      #kutipan {
        padding: 18px 0;
      }
      #kutipan .vedique {
        margin: 0 auto;
        max-width: 820px;
        background: rgba(255, 255, 255, 0.03);
        border-radius: 12px;
        padding: 18px 20px;
        text-align: center;
        color: var(--ink);
      }
      #kutipan .vedi-bunyi {
        font-style: italic;
        font-family: "Playfair Display", serif;
        font-size: 1.05rem;
        margin: 0 0 16px;
        color: var(--brand);
      }
      #kutipan .vedi-ref {
        font-size: 0.85rem;
        color: var(--muted);
        margin-bottom: 16px;
      }
      #kutipan .vedi-arti {
        margin: 16;
        color: var(--muted);
        font-family: "Montserrat", sans-serif;
        font-size: 0.98rem;
        line-height: 1.6;
      }

      /* keep existing responsive behaviour */
      @media (max-width: 720px) {
        #kutipan .vedique {
          padding: 14px;
        }
        #kutipan .vedi-bunyi {
          font-size: 1rem;
        }
        #kutipan .vedi-arti {
          font-size: 0.95rem;
        }
      }

      /* Justify all text content inside section #hadiah */
      #hadiah {
        text-align: justify;
        text-justify: inter-word;
      }
      #hadiah .wrap,
      #hadiah .lead,
      #hadiah p,
      #hadiah .bank-name,
      #hadiah .bank-acc,
      #hadiah .bank-info {
        text-align: justify;
        text-justify: inter-word;
        hyphens: auto;
        word-break: break-word;
      }

      /* Keep logo and action buttons aligned and prevent layout break */
      #hadiah .bank-card {
        align-items: flex-start; /* allow text to flow while logo stays top */
      }
      #hadiah .bank-logo,
      #hadiah .bank-actions {
        text-align: center;
        flex: 0 0 auto;
      }
      #hadiah .bank-info {
        flex: 1 1 auto;
        min-width: 0;
      }

      /* Keep section title left-aligned for readability */
      #hadiah h2.section-title {
        text-align: left;
      }

      @media (max-width: 720px) {
        #hadiah .wrap,
        #hadiah .bank-info {
          text-align: justify;
        }
      }

      /* Bank card / hadiah styles */
      .bank-list {
        display: block;
        margin-top: 10px;
        display: flex;
        flex-direction: column;
        gap: 12px;
      }
      .bank-card {
        display: flex;
        align-items: center;
        gap: 12px;
        padding: 12px;
        border-radius: 12px;
        background: rgba(255, 255, 255, 0.9);
        box-shadow: 0 6px 18px rgba(0, 0, 0, 0.06);
        border: 1px solid rgba(0, 0, 0, 0.04);
      }
      .bank-logo {
        width: 56px;
        height: 56px;
        object-fit: contain;
        border-radius: 8px;
        background: #fff;
        padding: 6px;
      }
      .bank-info {
        flex: 1;
        min-width: 0;
      }
      .bank-name {
        font-weight: 600;
        color: var(--brand, #2b2b2b);
        margin-bottom: 4px;
      }
      .bank-acc {
        color: #444;
        font-family: monospace;
        font-weight: 700;
      }
      .bank-actions {
        flex: 0 0 auto;
      }
      .copy-btn {
        padding: 8px 12px;
        border-radius: 10px;
        border: 1px solid rgba(0, 0, 0, 0.06);
        background: linear-gradient(180deg, #fff, #f6f6f6);
        cursor: pointer;
        font-weight: 600;
      }
      .copy-btn.copied {
        background: linear-gradient(
          180deg,
          var(--brand-2, #c7a17a),
          var(--brand, #9c6b4e)
        );
        color: #fff;
        border-color: rgba(0, 0, 0, 0.06);
      }

      /* tombol utama */
      .show-rek {
        padding: 10px 18px;
        border-radius: 999px;
        background: linear-gradient(180deg, #6e94ac 0%, #4f768f 100%);
        color: #fff;
        border: 1px solid rgba(255, 255, 255, 0.16);
        cursor: pointer;
        font-weight: 600;
        justify-content: center;
      }

      @media (max-width: 720px) {
        .bank-card {
          padding: 10px;
          gap: 10px;
        }
        .bank-logo {
          width: 48px;
          height: 48px;
        }
        .copy-btn {
          padding: 8px 10px;
        }
      }

      /* Thank You section (above footer) */
      #thankyou {
        padding: 32px 0;
        color: #888;
        text-align: center;
      }
      .thank-title {
        font-family: "Great Vibes", cursive;
        font-weight: 400;
        font-size: clamp(2rem, 5vw, 2.4rem);
        text-align: center;
        margin: 6px 0 8px;
        color: var(--ink);
      }
      .thank-text {
        color: var(--muted);
        text-align: center;
        max-width: 860px;
        margin: 0.25rem auto 1.25rem;
        font-size: 1rem;
        line-height: 1.6;
      }
      @media (max-width: 420px) {
        .thank-title {
          font-size: 1.9rem;
        }
        .thank-text {
          padding: 0 12px;
        }
      }

      /* Guestbook: card container + scrollable list */
#guestbookEntries {
  max-height: 360px;               /* ketinggian maksimum area ucapan */
  overflow-y: auto;                /* aktifkan scroll vertikal saat overflow */
  padding: 14px;                   /* jarak dalam */
  background: rgba(255,255,255,0.92);
  border-radius: 12px;
  box-shadow: 0 8px 22px rgba(0,0,0,0.06);
  border: 1px solid rgba(0,0,0,0.04);
  display: block;
}

/* styling tiap ucapan (card) */
#guestbookEntries .entry {
  background: #fff;
  border-radius: 10px;
  padding: 12px 14px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.04);
  border: 1px solid #eee;
  word-break: break-word;
}

/* beri jarak + garis pemisah antar ucapan (garis di bawah setiap entry kecuali terakhir) */
#guestbookEntries .entry:not(:last-child) {
  margin-bottom: 12px;
  padding-bottom: 12px; /* beri ruang untuk garis */
  border-bottom: 1px dashed #e6e6e6;
}

/* head / meta styling di dalam entry */
#guestbookEntries .entry .entry-head {
  display: flex;
  gap: 8px;
  align-items: baseline;
  margin-bottom: 6px;
}
#guestbookEntries .entry .name {
  font-weight: 700;
  color: var(--ink);
}
#guestbookEntries .entry .pangkat {
  color: var(--muted);
  font-size: 0.95rem;
}

/* pesan dan waktu */
#guestbookEntries .entry .entry-msg {
  color: #333;
  line-height: 1.5;
  margin-bottom: 8px;
}
#guestbookEntries .entry .entry-time {
  color: var(--muted);
  font-size: 0.85rem;
}

/* responsif: kurangi tinggi pada layar kecil */
@media (max-width: 720px) {
  #guestbookEntries { max-height: 260px; padding: 12px; }
  #guestbookEntries .entry { padding: 10px 12px; }
}
    </style>
  </head>
  <body>
    <!-- ===== Hero ===== -->
    <header class="hero">
      <div class="wrap">
        <p
          class="fade-up"
          style="letter-spacing: 0.3em; text-transform: uppercase"
        >
          Undangan Pernikahan
        </p>
        <h1 class="title fade-up delay-1">Suardika &amp; Murjani</h1>
        <p class="names fade-up delay-2">
          Kami mengundang Anda untuk hadir dalam hari bahagia kami
        </p>
        <p class="date fade-up delay-3">
          Rabu, 17 September 2031 
          <p>Pukul 10.00 WITA</p>
        </p>
        <div
          class="countdown fade-up"
          id="countdown"
          aria-label="Hitung mundur ke acara"
        ></div>
      </div>
    </header>

    <!-- ===== Sticky Nav ===== -->
    <nav class="sticky" aria-label="Navigasi bagian">
      <div class="inner wrap">
        <a href="#mempelai">Mempelai</a>
        <a href="#acara">Acara</a>
        <a href="#rsvp">RSVP</a>
        <a href="#galeri">Galeri</a>
        <a href="#hadiah">Hadiah</a>
      </div>
    </nav>

    <!-- ===== Couple ===== -->
    <section id="mempelai">
      <div class="wrap">
        <div class="card">
          <div class="wrap">
            <h2 class="section-title">Mempelai</h2>
            <p class="lead">
              Dengan segala kerendahan hati, kami bermaksud mengundang
              Bapak/Ibu/Saudara/i untuk menghadiri pernikahan kami.
            </p>
            <div class="couple">
              <div class="person">
                <img
                  class="avatar"
                  src="https://Budboyy.github.io/SuardikaMurjani/Images/Suardikaa.jpeg"
                  alt="Foto mempelai pria"
                  loading="lazy"
                />
                <h3>I Komang Suardika</h3>
                <div class="meta">
                  Putra dari
                  <p>Bapak I Wayan Kari</p>
                  <p>Ibu Ni Nyoman Sarni</p>
                </div>
              </div>
              <div class="person">
                <img
                  class="avatar"
                  src="https://Budboyy.github.io/SuardikaMurjani/Images/Murjani.jpeg"
                  alt="Foto mempelai wanita"
                  loading="lazy"
                />
                <h3>Ni Made Murjani</h3>
                <div class="meta">
                  Putri dari
                  <p>Bapak Made Luwih</p>
                  <p>Ibu Ketut Sumarni</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
    <!-- end of #mempelai -->

    <!-- ===== Kutipan (Rg Veda X.85.42) ===== -->
    <section id="kutipan" aria-label="Kutipan Rg Veda">
      <div class="wrap">
        <blockquote class="vedique fade-up" role="note">
          <p class="vedi-bunyi" lang="sa">
            Ihaiva stam ma vi yaustam, visvam ayur vyasnutam, kridantau putrair
            naptrbhih, modamanau sve grhe.
          </p>
          <div class="vedi-ref"><b>Rg Veda X.85.42</b></div>
          <p class="vedi-arti">
            Kepada pasangan yang berbahagia, semoga kalian tetap bersama dan tak
            pernah berpisah. Semoga kalian mencapai kehidupan yang penuh
            kebahagiaan, tinggal di rumah yang penuh sukacita bersama semua
            keturunan kalian.
          </p>
        </blockquote>
      </div>
    </section>

    <section id="acara">
      <div class="wrap">
        <h2 class="section-title">Rangkaian Acara</h2>
        <div class="events">
          <div class="card event">
            <h3>Akad Nikah</h3>
            <div class="info">
              <b>Tanggal :</b> Rabu, 17 September 2031
              <p><b>Pukul :</b> 10.00 WITA - Selesai</p>
            </div>
            <div class="info">
              <b>Lokasi :</b> Desa Karambua 1, Kecamatan Wotu
              <div style="margin-top: 8px">
                <!-- Tombol membuka Google Maps ke koordinat lokasi -->
                <a
                  class="btn"
                  id="btnOpenMapAcara"
                  href="https://www.google.com/maps/search/?api=1&query=-2.571934824631299,120.86314106149092"
                  target="_blank"
                  rel="noopener"
                >
                  ðŸ“Œ Buka Maps
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- ===== RSVP ===== -->
    <section id="rsvp">
      <div class="wrap">
        <h2 class="section-title">Konfirmasi Kehadiran (RSVP)</h2>
        <p class="lead">Anda bisa isi formulir di bawah.</p>

        <form
          class="guestbook"
          id="rsvpForm"
          action="https://script.google.com/macros/s/AKfycbxY8NzkUw_jR4G4LCyza2QHwmKXQQ-AS8ZGykybOh0bBxz5BP8oWrvDf73fmIcHyEBdFw/exec"
          method="post"
        >
          <input name="nama" placeholder="Nama" required />

          <!-- inline radio choices (Hadir / Tidak Hadir) -->
          <div
            class="rsvp-inline"
            role="radiogroup"
            aria-label="Konfirmasi Kehadiran"
          >
            <label>
              <input type="radio" name="konfirmasi" value="Hadir" required />
              Hadir
            </label>
            <label>
              <input type="radio" name="konfirmasi" value="Tidak Hadir" />
              Tidak Hadir
            </label>
          </div>

          <textarea
            name="pesan"
            rows="3"
            placeholder="Ucapan / catatan (opsional)"
          ></textarea>
          <div
            style="display: flex; gap: 10px; flex-wrap: wrap; margin-top: 8px"
          >
            <button class="btn primary" type="submit">Kirim</button>
          </div>
        </form>
      </div>
    </section>

    <!-- ===== Gallery ===== -->
    <section id="galeri">
      <div class="wrap">
        <h2 class="section-title">Galeri</h2>
        <div class="gallery">
          <img
            src="https://Budboyy.github.io/SuardikaMurjani/Images/galeri-1.jpeg"
            alt="Foto 1"
            loading="lazy"
          />
          <img
            src="https://Budboyy.github.io/SuardikaMurjani/Images/galeri-2.jpeg"
            alt="Foto 2"
            loading="lazy"
          />
          <img
            src="https://Budboyy.github.io/SuardikaMurjani/Images/galeri-3.jpeg"
            alt="Foto 3"
            loading="lazy"
          />
        </div>
      </div>
    </section>
    <!-- ===== Gift ===== -->
    <section id="hadiah">
      <div class="wrap">
        <h2 class="section-title">Hadiah</h2>
        <p class="lead">
          Tanpa mengurangi rasa hormat, bagi yang ingin mengirimkan kado dapat
          melalui rekening berikut:
        </p>

        <!-- tombol untuk tunjukkan rekening -->
        <div style="margin: 12px 0">
          <button
            id="btnToggleRek"
            class="btn show-rek"
            type="button"
            aria-expanded="false"
          >
            Tampilkan Rekening
          </button>
        </div>

        <!-- container rek (hidden by default) -->
        <div
          id="bankList"
          class="bank-list"
          aria-hidden="true"
          style="display: none"
        >
          <!-- contoh kartu bank; duplikat / tambah sesuai kebutuhan -->
          <div class="bank-card" data-account="7990427768">
            <img
              class="bank-logo"
              src="https://Budboyy.github.io/SuardikaMurjani/Images/BCA.png"
              alt="BCA logo"
            />
            <div class="bank-info">
              <div class="bank-name">7990 4277 68</div>
              <div class="bank-acc">
                <span class="acc-num">a.n. Made Murjani</span>
              </div>
            </div>
            <div class="bank-actions">
              <button class="btn copy-btn" data-account="7990427768">
                Salin
              </button>
            </div>
          </div>

          <div class="bank-card" data-account="081333414606">
            <img
              class="bank-logo"
              src="https://Budboyy.github.io/SuardikaMurjani/Images/DANA.png"
              alt="Mandiri logo"
            />
            <div class="bank-info">
              <div class="bank-name">0813 3341 4606</div>
              <div class="bank-acc">
                <span class="acc-num">a.n. Komang Suardika</span>
              </div>
            </div>
            <div class="bank-actions">
              <button class="btn copy-btn" data-account="081333414606">
                Salin
              </button>
            </div>
          </div>
        </div>
      </div>
    </section>
    <!-- end of #hadiah -->

    <!-- ===== Ucapan (tampil setelah Hadiah) ===== -->
    <section id="guestbookSection">
      <div class="wrap">
        <h2 class="section-title">Ucapan Tamu</h2>
        <div
          id="guestbookEntries"
          class="guest-entries"
          aria-live="polite"
        ></div>
      </div>
    </section>

    <section id="thankyou">
      <div class="wrap">
        <h2 class="section-title thank-title">Thank You</h2>
        <p class="thank-text">
          Merupakan suatu kehormatan dan kebahagiaan bagi kami apabila
          Bapak/Ibu/Saudara(i) berkenan hadir dan memberikan doa restu kepada
          kedua mempelai.
        </p>
      </div>
    </section>

    <style>
      /* Bank card / hadiah styles */
      .bank-list {
        display: block;
        margin-top: 10px;
        display: flex;
        flex-direction: column;
        gap: 12px;
      }
      .bank-card {
        display: flex;
        align-items: center;
        gap: 12px;
        padding: 12px;
        border-radius: 12px;
        background: rgba(255, 255, 255, 0.9);
        box-shadow: 0 6px 18px rgba(0, 0, 0, 0.06);
        border: 1px solid rgba(0, 0, 0, 0.04);
      }
      .bank-logo {
        width: 56px;
        height: 56px;
        object-fit: contain;
        border-radius: 8px;
        background: #fff;
        padding: 6px;
      }
      .bank-info {
        flex: 1;
        min-width: 0;
      }
      .bank-name {
        font-weight: 600;
        color: var(--brand, #2b2b2b);
        margin-bottom: 4px;
      }
      .bank-acc {
        color: #444;
        font-family: monospace;
        font-weight: 700;
      }
      .bank-actions {
        flex: 0 0 auto;
      }
      .copy-btn {
        padding: 8px 12px;
        border-radius: 10px;
        border: 1px solid rgba(0, 0, 0, 0.06);
        background: linear-gradient(180deg, #fff, #f6f6f6);
        cursor: pointer;
        font-weight: 600;
      }
      .copy-btn.copied {
        background: linear-gradient(
          180deg,
          var(--brand-2, #c7a17a),
          var(--brand, #9c6b4e)
        );
        color: #fff;
        border-color: rgba(0, 0, 0, 0.06);
      }

      /* tombol utama */
      .show-rek {
        padding: 10px 18px;
        border-radius: 999px;
        background: linear-gradient(180deg, #6e94ac 0%, #4f768f 100%);
        color: #fff;
        border: 1px solid rgba(255, 255, 255, 0.16);
        cursor: pointer;
        font-weight: 600;
        justify-content: center;
      }

      @media (max-width: 720px) {
        .bank-card {
          padding: 10px;
          gap: 10px;
        }
        .bank-logo {
          width: 48px;
          height: 48px;
        }
        .copy-btn {
          padding: 8px 10px;
        }
      }

      /* Thank You section (above footer) */
      #thankyou {
        padding: 32px 0;
        color: #888;
        text-align: center;
      }
      .thank-title {
        font-family: "Great Vibes", cursive;
        font-weight: 400;
        font-size: clamp(2rem, 5vw, 2.4rem);
        text-align: center;
        margin: 6px 0 8px;
        color: var(--ink);
      }
      .thank-text {
        color: var(--muted);
        text-align: center;
        max-width: 860px;
        margin: 0.25rem auto 1.25rem;
        font-size: 1rem;
        line-height: 1.6;
      }
      @media (max-width: 420px) {
        .thank-title {
          font-size: 1.9rem;
        }
        .thank-text {
          padding: 0 12px;
        }
      }

      /* Guestbook: card container + scrollable list */
#guestbookEntries {
  max-height: 360px;               /* ketinggian maksimum area ucapan */
  overflow-y: auto;                /* aktifkan scroll vertikal saat overflow */
  padding: 14px;                   /* jarak dalam */
  background: rgba(255,255,255,0.92);
  border-radius: 12px;
  box-shadow: 0 8px 22px rgba(0,0,0,0.06);
  border: 1px solid rgba(0,0,0,0.04);
  display: block;
}

/* styling tiap ucapan (card) */
#guestbookEntries .entry {
  background: #fff;
  border-radius: 10px;
  padding: 12px 14px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.04);
  border: 1px solid #eee;
  word-break: break-word;
}

/* beri jarak + garis pemisah antar ucapan (garis di bawah setiap entry kecuali terakhir) */
#guestbookEntries .entry:not(:last-child) {
  margin-bottom: 12px;
  padding-bottom: 12px; /* beri ruang untuk garis */
  border-bottom: 1px dashed #e6e6e6;
}

/* head / meta styling di dalam entry */
#guestbookEntries .entry .entry-head {
  display: flex;
  gap: 8px;
  align-items: baseline;
  margin-bottom: 6px;
}
#guestbookEntries .entry .name {
  font-weight: 700;
  color: var(--ink);
}
#guestbookEntries .entry .pangkat {
  color: var(--muted);
  font-size: 0.95rem;
}

/* pesan dan waktu */
#guestbookEntries .entry .entry-msg {
  color: #333;
  line-height: 1.5;
  margin-bottom: 8px;
}
#guestbookEntries .entry .entry-time {
  color: var(--muted);
  font-size: 0.85rem;
}

/* responsif: kurangi tinggi pada layar kecil */
@media (max-width: 720px) {
  #guestbookEntries { max-height: 260px; padding: 12px; }
  #guestbookEntries .entry { padding: 10px 12px; }
}
    </style>

    <script>
      // Toggle tampil/ sembunyikan daftar rekening
      (function () {
        const btnToggle = document.getElementById("btnToggleRek");
        const bankList = document.getElementById("bankList");

        btnToggle?.addEventListener("click", () => {
          const shown = bankList.style.display !== "none";
          if (shown) {
            bankList.style.display = "none";
            bankList.setAttribute("aria-hidden", "true");
            btnToggle.setAttribute("aria-expanded", "false");
            btnToggle.textContent = "Tampilkan Rekening";
          } else {
            bankList.style.display = "flex";
            bankList.setAttribute("aria-hidden", "false");
            btnToggle.setAttribute("aria-expanded", "true");
            btnToggle.textContent = "Sembunyikan Rekening";
          }
        });

        // Copy nomor rekening dengan feedback
        document.addEventListener("click", (e) => {
          const target = e.target;
          if (
            target &&
            target.classList &&
            target.classList.contains("copy-btn")
          ) {
            const acc =
              target.getAttribute("data-account") ||
              target.closest(".bank-card")?.getAttribute("data-account");
            if (!acc) return;
            // gunakan clipboard API jika tersedia
            if (navigator.clipboard && navigator.clipboard.writeText) {
              navigator.clipboard
                .writeText(acc)
                .then(() => {
                  // beri feedback singkat
                  target.classList.add("copied");
                  const original = target.textContent;
                  target.textContent = "Tersalin";
                  setTimeout(() => {
                    target.classList.remove("copied");
                    target.textContent = original;
                  }, 1500);
                })
                .catch(() => {
                  alert("Gagal menyalin. Silakan salin manual: " + acc);
                });
            } else {
              // fallback: buat textarea sementara
              const ta = document.createElement("textarea");
              ta.value = acc;
              document.body.appendChild(ta);
              ta.select();
              try {
                document.execCommand("copy");
                target.classList.add("copied");
                const original = target.textContent;
                target.textContent = "Tersalin";
                setTimeout(() => {
                  target.classList.remove("copied");
                  target.textContent = original;
                }, 1500);
              } catch {
                alert("Gagal menyalin. Silakan salin manual: " + acc);
              } finally {
                document.body.removeChild(ta);
              }
            }
          }
        });
      })();

      (function () {
  const API = "https://script.google.com/macros/s/AKfycbwEoJX9pTJyj64fwQ_EdU4VM3kTOYan8ITXe0kpQR7q3XhfUunSLWMCrC_3Bd6k3YOt/execc";
  const rsvpForm = document.getElementById("rsvpForm");
  const listEl = document.getElementById("guestbookEntries");

  const escapeHTML = (s) =>
    String(s || "")
      .replace(/&/g, "&amp;")
      .replace(/</g, "&lt;")
      .replace(/>/g, "&gt;")
      .replace(/"/g, "&quot;")
      .replace(/'/g, "&#39;");

  async function loadEntries() {
    if (!listEl) return;
    try {
      const res = await fetch(API);
      if (!res.ok) throw new Error("Network response not ok");
      const data = await res.json();
      listEl.innerHTML = (data || [])
        .map((item) => {
          const name = item.nama || item.name || "Tamu";
          const konf = item.konfirmasi || item.konf || "-";
          const msg = item.pesan || item.message || "";
          const time = item.waktu ? new Date(item.waktu).toLocaleString("id-ID") : "";
          return `
            <div class="entry">
              <div class="entry-head">
                <strong class="name">${escapeHTML(name)}</strong>
                <small class="pangkat">${escapeHTML(konf)}</small>
              </div>
              <div class="entry-msg">${escapeHTML(msg)}</div>
              <small class="entry-time">${escapeHTML(time)}</small>
            </div>
          `;
        })
        .join("");
    } catch (err) {
      console.warn("loadEntries error:", err);
      // optional: show message in UI
      if (listEl) listEl.innerHTML = "<div style='color:#999'>Terima kasih telah mengirimkan ucapan.</div>";
    }
  }

  // initial load
  loadEntries();

  if (!rsvpForm) return;

  rsvpForm.addEventListener("submit", async (e) => {
    e.preventDefault();
    const form = e.target;
    const nama = form.querySelector('[name="nama"]')?.value.trim() || "";
    const konfirmasi = form.querySelector('[name="konfirmasi"]:checked')?.value || "";
    const pesan = form.querySelector('[name="pesan"]')?.value.trim() || "";

    if (!nama) {
      alert("Masukkan nama.");
      return;
    }

    // disable submit while sending
    const submitBtn = form.querySelector('[type="submit"]');
    if (submitBtn) submitBtn.disabled = true;

    try {
      // send as URLSearchParams object so Apps Script receives form fields
      const body = new URLSearchParams();
      body.append("nama", nama);
      body.append("konfirmasi", konfirmasi);
      body.append("pesan", pesan);
      const res = await fetch(API, { method: "POST", body: body });
      if (!res.ok) throw new Error("Failed to submit");
      form.reset();
      await loadEntries();
      const list = document.getElementById("guestbookEntries");
      if (list) list.scrollIntoView({ behavior: "smooth", block: "start" });
    } catch (err) {
      console.warn("submit error:", err);
      alert("Terima kasih telah mengirimkan ucapan.");
    } finally {
      if (submitBtn) submitBtn.disabled = false;
    }
  });
})();
    </script>

    <footer>
      <div class="wrap">
        <small>&copy; <span id="year"></span> Crafted by NOEN Studio.</small>
      </div>
    </footer>

    <!-- Floating buttons (musik & arah) -->
    <div class="floating" aria-label="Tombol mengambang">
      <button
        class="fab play-btn"
        id="btnMusic"
        type="button"
        aria-pressed="false"
        title="Putar Musik"
      >
        <!-- small play icon (default) -->
        <svg
          viewBox="0 0 24 24"
          width="16"
          height="16"
          aria-hidden="true"
          focusable="false"
        >
          <path d="M8 5v14l11-7z" fill="#fff" />
        </svg>
      </button>
    </div>

    <audio
      id="bgm"
      src="https://Budboyy.github.io/SuardikaMurjani/Audio/Sayang.mp3"
      preload="none"
      loop
      autoplay
    ></audio>

    <!-- Cover Overlay -->
    <div
      id="coverUndangan"
      style="
        position: fixed;
        z-index: 9999;
        inset: 0;
        background: url('https://Budboyy.github.io/SuardikaMurjani/Images/Cover.png')
            center/cover no-repeat,
          #faf7f2;
        display: flex;
        align-items: center;
        justify-content: center;
        flex-direction: column;
        transition: opacity 0.5s;
      "
    >
      <div class="cover-content">
        <h2
          style="
            font-family: Inter, 'Montserrat', serif;
            font-size: 1.5rem;
            margin: 0 0 24px 0;
            color: #fff;
            text-shadow: 0 2px 12px rgba(0, 0, 0, 0.25);
            letter-spacing: 0.15em;
            font-weight: 700;
          "
        >
          Undangan Pernikahan
        </h2>
        <p class="cover-name" style="margin-bottom: 24px">
          Suardika &amp; Murjani
        </p>
        <p style="color: #fff; margin-top: 12px; font-size: 1.2rem">
          Kepada Yth: <span id="guestName">Tamu Undangan</span>
        </p>

        <!-- REPLACED: new open-invite button -->
        <button
          id="btnBukaUndangan"
          class="open-invite"
          aria-label="Buka Undangan"
        >
          <!-- Open envelope icon (white) -->
          <svg
            viewBox="0 0 24 24"
            width="18"
            height="18"
            aria-hidden="true"
            focusable="false"
            xmlns="http://www.w3.org/2000/svg"
            style="flex: 0 0 18px; display: block"
          >
            <!-- envelope body -->
            <path
              d="M3 8.5C3 7.672 3.672 7 4.5 7h15c.828 0 1.5.672 1.5 1.5v7c0 .828-.672 1.5-1.5 1.5h-15A1.5 1.5 0 0 1 3 16.5v-8z"
              fill="#ffffff"
            />
            <!-- flap / open part -->
            <path
              d="M12 12.2L4.2 7.6 12 3l7.8 4.6L12 12.2z"
              fill="#ffffff"
              opacity="0.95"
            />
            <!-- inner detail line -->
            <path
              d="M4.2 7.6l7.8 4.6 7.8-4.6"
              stroke="#ffffff"
              stroke-width="0.6"
              stroke-linecap="round"
              stroke-linejoin="round"
              fill="none"
              opacity="0.9"
            />
          </svg>
          Buka Undangan
        </button>
      </div>
    </div>

    <script>
      // ====== UTIL ======
      const $ = (s, el = document) => el.querySelector(s);
      const $$ = (s, el = document) => [...el.querySelectorAll(s)];

      // Tahun footer
      $("#year") && ($("#year").textContent = new Date().getFullYear());

      // ====== COUNTDOWN ======
      // 17 September 2031 jam 10:00 WITA
      const target = new Date("2031-09-17T10:00:00+08:00");
      const cd = $("#countdown");

      function tick() {
        const now = new Date();
        const diff = target - now;

        if (diff <= 0) {
          cd.innerHTML = `<div style="text-align:center">
      <h3>ðŸŽ‰ Acara Sedang Berlangsung ðŸŽ‰</h3>
    </div>`;
          clearInterval(timer);
          return;
        }

        const d = Math.floor(diff / 86400000);
        const h = Math.floor((diff % 86400000) / 3600000);
        const m = Math.floor((diff % 3600000) / 60000);
        const s = Math.floor((diff % 60000) / 1000);

        cd.innerHTML = `
    <div class="dd"><b>${d}</b><span>Hari</span></div>
    <div class="dd"><b>${h}</b><span>Jam</span></div>
    <div class="dd"><b>${m}</b><span>Menit</span></div>
    <div class="dd"><b>${s}</b><span>Detik</span></div>
  `;
      }

      tick();
      const timer = setInterval(tick, 1000);

      // ====== Copy rekening ======
      // safe: $$ returns [] if none
      $$("[data-copy]").forEach((btn) =>
        btn.addEventListener("click", async () => {
          const val = btn.getAttribute("data-copy");
          try {
            await navigator.clipboard.writeText(val);
            const orig = btn.textContent;
            btn.textContent = "Tersalin!";
            setTimeout(() => (btn.textContent = orig), 1500);
          } catch {
            alert("Salin manual: " + val);
          }
        })
      );

      // ====== RSVP used as Guestbook (store + render) ======
      (function () {
        const API =
          "https://script.google.com/macros/s/AKfycbxY8NzkUw_jR4G4LCyza2QHwmKXQQ-AS8ZGykybOh0bBxz5BP8oWrvDf73fmIcHyEBdFw/exec";
        const rsvpForm = document.getElementById("rsvpForm");
        const listEl = document.getElementById("guestbookEntries");

        const escapeHTML = (s) =>
          String(s || "")
            .replace(/&/g, "&amp;")
            .replace(/</g, "&lt;")
            .replace(/>/g, "&gt;")
            .replace(/"/g, "&quot;")
            .replace(/'/g, "&#39;");

        async function loadEntries() {
          if (!listEl) return;
          try {
            const res = await fetch(API);
            if (!res.ok) throw new Error("Network response not ok");
            const data = await res.json();
            listEl.innerHTML = (data || [])
              .map((item) => {
                const name = item.nama || item.name || "Tamu";
                const konf = item.konfirmasi || item.konf || "-";
                const msg = item.pesan || item.message || "";
                const time = item.waktu ? new Date(item.waktu).toLocaleString("id-ID") : "";
                return `
            <div class="entry">
              <div class="entry-head">
                <strong class="name">${escapeHTML(name)}</strong>
                <small class="pangkat">${escapeHTML(konf)}</small>
              </div>
              <div class="entry-msg">${escapeHTML(msg)}</div>
              <small class="entry-time">${escapeHTML(time)}</small>
            </div>
          `;
              })
              .join("");
          } catch (err) {
            console.warn("loadEntries error:", err);
            // optional: show message in UI
            if (listEl) listEl.innerHTML = "<div style='color:#999'>Terima kasih telah mengirimkan ucapan.</div>";
          }
        }

        // initial load
        loadEntries();

        if (!rsvpForm) return;

        rsvpForm.addEventListener("submit", async (e) => {
          e.preventDefault();
          const form = e.target;
          const nama = form.querySelector('[name="nama"]')?.value.trim() || "";
          const konfirmasi = form.querySelector('[name="konfirmasi"]:checked')?.value || "";
          const pesan = form.querySelector('[name="pesan"]')?.value.trim() || "";

          if (!nama) {
            alert("Masukkan nama.");
            return;
          }

          // disable submit while sending
          const submitBtn = form.querySelector('[type="submit"]');
          if (submitBtn) submitBtn.disabled = true;

          try {
            // send as URLSearchParams object so Apps Script receives form fields
            const body = new URLSearchParams();
            body.append("nama", nama);
            body.append("konfirmasi", konfirmasi);
            body.append("pesan", pesan);
            const res = await fetch(API, { method: "POST", body: body });
            if (!res.ok) throw new Error("Failed to submit");
            form.reset();
            await loadEntries();
            const list = document.getElementById("guestbookEntries");
            if (list) list.scrollIntoView({ behavior: "smooth", block: "start" });
          } catch (err) {
            console.warn("submit error:", err);
            alert("Terima kasih telah mengirimkan ucapan.");
          } finally {
            if (submitBtn) submitBtn.disabled = false;
          }
        });
      })();
      // ====== end guestbook ======

      // ====== Musik latar (guarded elements) ======
      const audio = $("#bgm");
      let playing = false;
      if (audio) {
        // autoplay handling and btnMusic binding only if audio exists
        const tryAutoPlay = () => {
          if (!playing) {
            audio
              .play()
              .then(() => {
                playing = true;
              })
              .catch(() => {});
          }
          window.removeEventListener("click", tryAutoPlay);
          window.removeEventListener("touchstart", tryAutoPlay);
        };
        window.addEventListener("click", tryAutoPlay);
        window.addEventListener("touchstart", tryAutoPlay);

        const btnMusic = $("#btnMusic");
        if (btnMusic) {
          const playSVG =
            '<svg viewBox="0 0 24 24" width="16" height="16" aria-hidden="true" focusable="false"><path d="M8 5v14l11-7z" fill="#fff"/></svg>';
          const pauseSVG =
            '<svg viewBox="0 0 24 24" width="16" height="16" aria-hidden="true" focusable="false"><path d="M6 5h4v14H6zM14 5h4v14h-4z" fill="#fff"/></svg>';
          // set initial icon according to playing state
          btnMusic.innerHTML = playing ? pauseSVG : playSVG;
          btnMusic.setAttribute("aria-pressed", String(!!playing));

          btnMusic.addEventListener("click", async () => {
            try {
              if (!playing) {
                await audio.play();
                playing = true;
                btnMusic.innerHTML = pauseSVG;
                btnMusic.setAttribute("aria-pressed", "true");
                btnMusic.title = "Jeda Musik";
              } else {
                audio.pause();
                playing = false;
                btnMusic.innerHTML = playSVG;
                btnMusic.setAttribute("aria-pressed", "false");
                btnMusic.title = "Putar Musik";
              }
            } catch (err) {
              console.warn(err);
            }
          });
        }
      }

      // ====== Cover buka undangan (guarded) ======
      const cover = document.getElementById("coverUndangan");
      const btnBuka = document.getElementById("btnBukaUndangan");
      if (cover) document.body.classList.add("cover-open"); // if cover present, prevent scroll
      if (btnBuka && cover) {
        btnBuka.addEventListener("click", async () => {
          cover.style.opacity = "0";
          setTimeout(() => (cover.style.display = "none"), 500);
          document.body.classList.remove("cover-open"); // Izinkan scroll lagi
          try {
            if (audio && typeof audio.play === "function") {
              await audio.play();
              playing = true;
            }
          } catch {}
        });
      } else if (cover && !btnBuka) {
        // if cover exists but button removed, allow closing cover on background click or Esc
        cover.addEventListener("click", (e) => {
          if (e.target === cover) {
            cover.style.opacity = "0";
            setTimeout(() => (cover.style.display = "none"), 500);
            document.body.classList.remove("cover-open");
          }
        });
        window.addEventListener("keydown", (e) => {
          if (e.key === "Escape") {
            cover.style.opacity = "0";
            setTimeout(() => (cover.style.display = "none"), 500);
            document.body.classList.remove("cover-open");
          }
        });
      }

      // ====== Intersection fade ======
      const io = new IntersectionObserver(
        (entries) => {
          entries.forEach((e) => {
            if (e.isIntersecting) {
              e.target.classList.add("fade-up");
              io.unobserve(e.target);
            }
          });
        },
        { threshold: 0.15 }
      );
      $$("section h2, .events .event, .gallery img").forEach((el) =>
        io.observe(el)
      );

      // ====== Nama Tamu dari URL (robust) ======
      const params = new URLSearchParams(window.location.search);
      const guestRaw =
        params.get("to") || params.get("guest") || params.get("nama") || "";
      if (guestRaw) {
        // ganti '+' menjadi spasi (jika ada) lalu decode
        const guestName = decodeURIComponent(guestRaw.replace(/\+/g, " "));
        const guestEl =
          document.getElementById("guestName") ||
          document.querySelector(".guest-name");
        if (guestEl) guestEl.textContent = guestName;
      }
    </script>
  </body>
</html>

